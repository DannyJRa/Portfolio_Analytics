---
title: "alpha"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Alpha Vantage

Alpha Vantage is a free service that enables users to get real-time and historical financial data. New users will need to visit Alpha Vantage and obtain an API key.

R Interface: Getting Started

The alphavantager package provides a convenient and lightweight interface to the Alpha Vantage API.

To get started, install the package from CRAN or from GitHub:

install.packages("alphavantager")
# Or
devtools::install_github("business-science/alphavantager")
Load the package.
```{r}
library(alphavantager)
```


Set your API key (get one from Alpha Vantage if you don't already have one. it's free).

```{r}
av_api_key("NAYAP8C68PE7KTLX")
print(av_api_key())
```


# Getting Financial Data from Alpha Vantage

Now, you're ready to get financial data via av_get(), which accepts the same1 arguments as the API Documentation parameters. The function is setup with two primary arguments, symbol and av_fun, which accepts an equity and one of the API "function" parameters. You can pass additional API parameters via the ....

# Function is streamlined and user adds additional parameters via ... 
```{r}
args(av_get)
```



Here are a few examples of retrieving real-time and historical financial data!

Time Series Data
```{r}
av_get(symbol = "MSFT", av_fun = "TIME_SERIES_INTRADAY", interval = "15min")
av_get(symbol = "PYPL", av_fun = "TIME_SERIES_INTRADAY", interval = "15min")
av_get(symbol = "CBK", av_fun = "TIME_SERIES_INTRADAY", interval = "5min")
#Technical Indicators

av_get(symbol = "MSFT", av_fun = "AROON", interval = "monthly", time_period = 60)
#Sector Performances

av_get(av_fun = "SECTOR")


```

```{r}
av_get(symbol = "MSFT", av_fun = "TIME_SERIES_INTRADAY", interval = "15min", outputsize = "compact")
av_get(symbol = "MSFT", av_fun = "TIME_SERIES_INTRADAY", interval = "15min", outputsize = "full")
```



Important Notes: av_get()
The av_fun argument replaces the API parameter "function" because function is a reserved name in R. All other arguments match the Alpha Vantage API parameters.

There is no need to specify the apikey parameter as an argument to av_get(). The required method is to set the API key using av_api_key("YOUR_API_KEY").

There is no need to specify the datatype parameter as an argument to av_get(). The function will return a tibble data frame.

Some data sets only return 100 rows by default. Change the parameter outputsize = "full" to get the full dataset.

# Indicators

```{r}
av_get(symbol = "MSFT", av_fun = "SMA", interval = "monthly", time_period = 60, series_type = "close")
```


NEXT STEPS
We have plans to integrate alphavantager into tidyquant, which will enable scaling from one equity to many! The change will be incorporated into tq_get(), the one-stop shop for getting financial data. It's coming soon!!!
Source: http://www.business-science.io/code-tools/2017/09/03/alphavantager-0-1-0.html

```{r}
library(quantmod)
setDefaults("getSymbols.av", api.key = "NAYAP8C68PE7KTLX")

#Works
getSymbols("CBK", src = "av",periodicity="intraday", interval = "5min", outputsize = "full")


```


See also <https://www.r-bloggers.com/the-return-of-free-data-and-possible-volatility-trading-subscription/>

or 

[I'm an inline-style link](https://www.google.com)

or

[You can use numbers for reference-style link definitions][1]


[1]: http://slashdot.org



